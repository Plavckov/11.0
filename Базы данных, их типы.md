
### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

Ответ:

1.1. Реляционная, тут прямо без вариантов.

1.2. Для лендингов СУБД вообще не нужно они должны взаимодействовать через АПИ с основной БД CRM, но если выбирать я бы выбрал NoSql. Что касается CRM только реляционная, так как данные быть строго структурированные.

1.3. Встречный вопрос, а она им нужна? По сути куча файлов с неструктурированными данными, Документо-ориентированную NoSql кажется идеальным решением, но опять же реляционная тоже будет работать.

1.4. Вроде как идеально подходят Графовые или Column-oriented NoSql, но мы в 2023 сейчас и Реляционные БД умеют в связи не хуже, да структура будет так себе, но это будет работать.

1.5. Да это можно и нужно решать на базе одной СУБД, чтобы не разводить зоопарк технологий, и все эти задачи решаются реляционной СУБД

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

Ответ:

2.1.

- Начать транзакцию
- Найти номер телефона 80001112233
- Получить текущий баланс
- Изменить баланс на _"текущий баланс" + 10 ед_
- Записать историю изменения баланса
- закончить транзакцию

или

- Начать транзакцию
- Найти номер телефона 80001112233
- Добавить запись о пополнении на 10 ед
- Скалькулировать остаток
- Записать текущий остаток
- закончить транзакцию

2.1.*

- Начать транзакцию
- Найти телефон который должен быть пополнен 10.10.2022
- Получить текущий баланс
- Изменить баланс на _"текущий баланс" + 10 ед_
- Записать историю изменения баланса
- закончить транзакцию

или 

- Начать транзакцию
- Найти телефон который должен быть пополнен 10.10.2022
- Добавить запись о пополнении на 10 ед
- Скалькулировать остаток
- Записать текущий остаток
- закончить транзакцию

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

Ответ:

1. Строго структурированные данные
2. Один язык взаимодействия с любой реляционной БД (по крайней мере из мне известных)
3. Целостность типов данных (за исключением json полей)
4. Транзакции, ну или точнее их надежность.
5. Индексы (не уверен конечно, так как мало работал с не реляционными СУБД)

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?

Ответ:

Модель распределённых вычислений - MapReduce
Тип СУБД - сильно зависит от конкретных задач в каких то просто необходимы реляционные, а в других случаях подойдут 
NoSql или иные СУБД например Column-oriented или графовые.

---

Задания,помеченные звёздочкой, — дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже разобраться в материале.
